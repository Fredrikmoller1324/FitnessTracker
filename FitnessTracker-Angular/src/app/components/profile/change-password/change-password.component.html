<div class="container my-5" style="max-width: 50rem">
  <app-base-card [title]="'Change Password'">
    <div>
      <div *ngIf="isLoading" style="text-align: center">
        <app-loading-spinner></app-loading-spinner>
      </div>
      <div class="alert alert-danger" *ngIf="error">
        {{ error }}
      </div>
      <div class="alert alert-success" *ngIf="successSent">
        {{successMessage}}
      </div>
      <form #form="ngForm" (ngSubmit)="onSubmit(form)">
        <div class="form-group mb-2">
          <label>Current Password</label>
          <input
            type="password"
            class="form-control"
            #currentPassword="ngModel"
            name="currentPassword"
            [(ngModel)]="formModel.currentPassword"
            required
          />
        </div>
        <div class="form-group mb-2">
          <label>New Password</label>
          <input
            type="password"
            class="form-control"
            #newPassword="ngModel"
            name="newPassword"
            [(ngModel)]="formModel.newPassword"
            required
          />
        </div>
        <div class="form-group mb-2">
          <label>Confirm New Password</label>
          <input
            type="password"
            class="form-control"
            #confirmNewPassword="ngModel"
            name="confirmNewPassword"
            [(ngModel)]="formModel.confirmNewPassword"
            required
          />
        </div>
        <button
          class="btn btn-primary me-2"
          type="submit"
          [disabled]="!form.valid || successSent"
        >
          Confirm
        </button>
        <button
          class="btn btn-danger"
          type="button"
          [routerLink]="['/profile']"
        >
          Cancel
        </button>
      </form>
    </div>
  </app-base-card>
</div>
